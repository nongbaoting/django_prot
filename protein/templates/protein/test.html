<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% load static %}
    <style>
        .mol-container {
            width: 60%;
            height: 400px;
            position: relative;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/3Dmol/1.4.0/3Dmol-min.js"></script>
    <title>test</title>
</head>
<body>
<a href= "/static/protein/testPDB/{{ str_id }}.pdb.gz">dowload</a>


<div id="container-01" class="mol-container"></div>


<script>
    $(function () {
        let element = $('#container-01');
        let config = {backgroundColor: 'white'};
        let viewer = $3Dmol.createViewer(element, config);
        let pdbUri = "/static/protein/testPDB/{{ str_id }}.pdb.gz";
        /* load */
        jQuery.ajax(pdbUri, {
            success: function (data) {
                let v = viewer;
                v.addModel(data, "pdb");                       /* load data */
                v.setBackgroundColor('white');
                v.setStyle({}, {stick: {color: 'spectrum'}});  /* style all atoms */
                v.zoomTo();                                      /* set camera */
                v.render();                                      /* render scene */
                v.zoom(1.2, 1000);                               /* slight zoom */
            },
            error: function (hdr, status, err) {
                console.error("Failed to load PDB " + pdbUri + ": " + err);
            },
        });



    });
</script>



</body>
</html>